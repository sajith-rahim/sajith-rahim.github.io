!function(){let e,i,n,o,t,a,r,s,d,l,m,c,w,h,E=[],g,p,R=new THREE.Clock;function x(e,i,n,o){var t,a;let r,s,d;let c=(t=e.x,a=e.y,r=0,s=0,t<=(d={x:window.innerWidth,y:window.innerHeight}).x/2&&(r=-(n*((d.x/2-t)/(d.x/2)*100)/100*1)),t>=d.x/2&&(r=n*((t-d.x/2)/(d.x/2)*100)/100),a<=d.y/2&&(s=-(.5*o*((d.y/2-a)/(d.y/2)*100)/100*1)),a>=d.y/2&&(s=o*((a-d.y/2)/(d.y/2)*100)/100),{x:r,y:s});i.rotation.y=THREE.MathUtils.degToRad(c.x),[l.name,m.name].includes(i.name),i.rotation.x=THREE.MathUtils.degToRad(c.y)}new THREE.Raycaster,document.getElementById("js-loader"),function(){let R=document.querySelector("#c");(e=new THREE.Scene).background=new THREE.Color(0),e.fog=new THREE.Fog(0,60,100),(i=new THREE.WebGLRenderer({canvas:R,antialias:!0})).shadowMap.enabled=!0,i.setPixelRatio(window.devicePixelRatio),i.setClearColor(16777215,0),document.body.appendChild(i.domElement),(n=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3)).position.z=30,n.position.x=0,n.position.y=-3;let x=new THREE.TextureLoader().load("./assets/models/txt_poly.jpg");x.flipY=!1;let H=new THREE.MeshPhongMaterial({map:x,color:16777215,skinning:!1});new THREE.GLTFLoader().load("./assets/models/master_cheif1k_arm_stretch.glb",function(i){o=i.scene;let n=i.animations;o.traverse(e=>{e.isMesh&&(e.castShadow=!1,e.receiveShadow=!1,e.material=H),e.isBone&&"mixamorigNeck"===e.name&&(t=e),e.isBone&&"mixamorigSpine"===e.name&&(a=e),e.isBone&&e.name,e.isBone&&"mixamorigLeftForeArm"===e.name&&(c=e,window.leftForeArm=c),e.isBone&&"mixamorigLeftArm"===e.name&&(l=e,window.leftArm=l),e.isBone&&"mixamorigRightArm"===e.name&&(m=e,window.rightArm=m),e.isBone&&"mixamorigLeftLeg"===e.name&&(w=e,window.leftLeg=w),e.isBone&&"mixamorigRightLeg"===e.name&&(h=e,window.rightLeg=h),e.isBone&&"mixamorigRightShoulder"===e.name&&(s=e,window.rightShoulder=s),e.isBone&&"mixamorigLeftShoulder"===e.name&&(d=e,window.leftShoulder=d),e.isBone&&"mixamorigHead"===e.name&&(r=e)}),o.scale.set(800,800,800),o.position.y=-10,o.position.z=0,e.add(o),g=new THREE.AnimationMixer(o),E=n.map(e=>{let i=THREE.AnimationClip.findByName(n,e.name);return i.tracks.splice(3,3),i.tracks.splice(9,3),i=g.clipAction(i)}),setTimeout(()=>{let e=E.filter(e=>"idle_checking_hand"!==e._clip.name);e.length>0&&((e=e[0]._clip).tracks.splice(3,3),e.tracks.splice(9,3),(p=g.clipAction(e)).play())},3e3),o.state&&(o.state.masterCheifModelLoaded=!0)},void 0,function(e){console.error(e)});let T=new THREE.HemisphereLight(16777215,16777215,.61);T.position.set(0,50,0),e.add(T);let u=new THREE.DirectionalLight(16777215,.54);u.position.set(-8,12,8),u.castShadow=!0,u.shadow.mapSize=new THREE.Vector2(1024,1024),u.shadow.camera.near=.1,u.shadow.camera.far=1500,u.shadow.camera.left=-8.25,u.shadow.camera.right=8.25,u.shadow.camera.top=8.25,u.shadow.camera.bottom=-8.25,e.add(u);let y=new THREE.PlaneGeometry(5e3,5e3,1,1),f=new THREE.MeshPhongMaterial({color:0,shininess:0}),L=new THREE.Mesh(y,f);L.rotation.x=-.5*Math.PI,L.receiveShadow=!0,L.position.y=-11,e.add(L);let M=new THREE.SphereGeometry(8,32,32),B=new THREE.MeshBasicMaterial({color:6471422}),S=new THREE.Mesh(M,B);S.position.z=-15,S.position.y=-2.5,S.position.x=-.25,e.add(S)}(),function o(){if(g&&g.update(R.getDelta()),function(e){let i=e.domElement,n=window.innerWidth,o=window.innerHeight,t=i.width/window.devicePixelRatio,a=i.height/window.devicePixelRatio,r=t!==n||a!==o;return r&&e.setSize(n,o,!1),r}(i)){let e=i.domElement;n.aspect=e.clientWidth/e.clientHeight,n.updateProjectionMatrix()}i.render(e,n),requestAnimationFrame(o)}(),document.addEventListener("mousemove",function(e){var i={x:e.clientX,y:e.clientY};t&&a&&(x(i,t,30,30),x(i,r,30,30),x(i,a,10,10),x(i,w,-1,-1),x(i,h,0,30),p&&p.play())})}();