!function(){let e,i,n,o,t,a,r,s,d,m,l,c,w,h,E,g,p,R=[],x=new THREE.Clock,u=!1;new THREE.Raycaster,document.getElementById("js-loader");function H(e,i,n,o){let t=function(e,i,n,o){let t,a,r,s,d=0,m=0,l={x:window.innerWidth,y:window.innerHeight};e<=l.x/2&&(t=l.x/2-e,a=t/(l.x/2)*100,d=n*a/100*-1);e>=l.x/2&&(t=e-l.x/2,a=t/(l.x/2)*100,d=n*a/100);i<=l.y/2&&(r=l.y/2-i,s=r/(l.y/2)*100,m=.5*o*s/100*-1);i>=l.y/2&&(r=i-l.y/2,s=r/(l.y/2)*100,m=o*s/100);return{x:d,y:m}}(e.x,e.y,n,o);i.rotation.y=THREE.MathUtils.degToRad(t.x),[m.name,l.name].includes(i.name),i.rotation.x=THREE.MathUtils.degToRad(t.y)}!function(){const x=document.querySelector("#c");e=new THREE.Scene,e.background=new THREE.Color(0),e.fog=new THREE.Fog(0,60,100),i=new THREE.WebGLRenderer({canvas:x,antialias:!0}),i.shadowMap.enabled=!0,i.setPixelRatio(window.devicePixelRatio),i.setClearColor(16777215,0),document.body.appendChild(i.domElement),n=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,1e3),n.position.z=30,n.position.x=0,n.position.y=-3;let u=(new THREE.TextureLoader).load("./assets/models/txt_poly.jpg");u.flipY=!1;const H=new THREE.MeshPhongMaterial({map:u,color:16777215,skinning:!1});(new THREE.GLTFLoader).load("./assets/models/master_cheif1k_arm_stretch.glb",(function(i){o=i.scene;let n=i.animations;o.traverse((e=>{e.isMesh&&(e.castShadow=!1,e.receiveShadow=!1,e.material=H),e.isBone&&"mixamorigNeck"===e.name&&(t=e),e.isBone&&"mixamorigSpine"===e.name&&(a=e),e.isBone&&"mixamorigRightForeArm"===e.name&&(w=e),e.isBone&&"mixamorigLeftForeArm"===e.name&&(c=e,window.leftForeArm=c),e.isBone&&"mixamorigLeftArm"===e.name&&(m=e,window.leftArm=m),e.isBone&&"mixamorigRightArm"===e.name&&(l=e,window.rightArm=l),e.isBone&&"mixamorigLeftLeg"===e.name&&(h=e,window.leftLeg=h),e.isBone&&"mixamorigRightLeg"===e.name&&(E=e,window.rightLeg=E),e.isBone&&"mixamorigRightShoulder"===e.name&&(s=e,window.rightShoulder=s),e.isBone&&"mixamorigLeftShoulder"===e.name&&(d=e,window.leftShoulder=d),e.isBone&&"mixamorigHead"===e.name&&(r=e)})),o.scale.set(800,800,800),o.position.y=-10,o.position.z=0,e.add(o),g=new THREE.AnimationMixer(o);let x=n;R=x.map((e=>{let i=THREE.AnimationClip.findByName(x,e.name);return i.tracks.splice(3,3),i.tracks.splice(9,3),i=g.clipAction(i),i})),setTimeout((()=>{let e=R.filter((e=>"idle_checking_hand"!==e._clip.name));e.length>0&&(e=e[0]._clip,e.tracks.splice(3,3),e.tracks.splice(9,3),p=g.clipAction(e),p.play())}),3e3),o.state&&(o.state.masterCheifModelLoaded=!0)}),void 0,(function(e){console.error(e)}));let T=new THREE.HemisphereLight(16777215,16777215,.61);T.position.set(0,50,0),e.add(T);let f=8.25,y=new THREE.DirectionalLight(16777215,.54);y.position.set(-8,12,8),y.castShadow=!0,y.shadow.mapSize=new THREE.Vector2(1024,1024),y.shadow.camera.near=.1,y.shadow.camera.far=1500,y.shadow.camera.left=-1*f,y.shadow.camera.right=f,y.shadow.camera.top=f,y.shadow.camera.bottom=-1*f,e.add(y);let L=new THREE.PlaneGeometry(5e3,5e3,1,1),M=new THREE.MeshPhongMaterial({color:0,shininess:0}),B=new THREE.Mesh(L,M);B.rotation.x=-.5*Math.PI,B.receiveShadow=!0,B.position.y=-11,e.add(B);let S=new THREE.SphereGeometry(8,32,32),v=new THREE.MeshBasicMaterial({color:6471422}),A=new THREE.Mesh(S,v);A.position.z=-15,A.position.y=-2.5,A.position.x=-.25,e.add(A)}(),function o(){if(g&&g.update(x.getDelta()),function(e){const i=e.domElement;let n=window.innerWidth,o=window.innerHeight,t=i.width/window.devicePixelRatio,a=i.height/window.devicePixelRatio;const r=t!==n||a!==o;r&&e.setSize(n,o,!1);return r}(i)){const e=i.domElement;n.aspect=e.clientWidth/e.clientHeight,n.updateProjectionMatrix()}i.render(e,n),requestAnimationFrame(o)}(),document.addEventListener("mousemove",(function(e){var i=function(e){return{x:e.clientX,y:e.clientY}}(e);t&&a&&(H(i,t,30,30),H(i,r,30,30),H(i,a,10,10),H(i,h,-1,-1),H(i,E,0,30),!u&&p&&p.play())}))}();